layout {
  default_tab_template {
    pane size=2 borderless=true {
      plugin location="zellij:compact-bar"
    }
    children
    pane size=2 borderless=true {
      plugin location="zellij:status-bar"
    }
  }

  tab name="server" {
    pane command="/home/fazil/.asdf/shims/foreman" {
      start_suspended true
      args "start" "-f" "Procfile.dev";
    }
  }

  tab name="test" {
    pane command="/home/fazil/.asdf/shims/rails" {
      start_suspended true
      args "test";
    }

    pane command="/home/fazil/.asdf/shims/rails" {
      start_suspended true
      args "test:system";
    }
  }


  tab name="editor" {
    pane command="nvim" {
      start_suspended true
      args "."
    }
  }

  tab name="shell" focus=true {
    pane
  }

  tab name="prod" {
    pane name="logs" command="/home/fazil/.asdf/shims/kamal" {
      start_suspended true
      args "app" "logs" "-f";
    }

    pane name="console" command="/home/fazil/.asdf/shims/kamal" {
      start_suspended true
      args "app" "exec" "-i" "bin/rails" "console"
    }
    pane name="dotenv kamal deploy" size="10%"
  }

  tab name="whetstone" split_direction="vertical" {
    pane {
      pane name="zellij editor" command="nvim" cwd="~/.config/zellij/layouts/" {
        start_suspended true;
        args "."
      }

      pane size="10%" cwd="~/.config/zellij/layouts/"
    }

    pane {
      pane name="shell editor" command="nvim" cwd="~/shell/" {
        start_suspended true;
        args "."
      }

      pane size="10%" cwd="~/shell/"
    }
  }
}

